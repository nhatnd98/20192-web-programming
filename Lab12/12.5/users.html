<html>
    <head>
    <script type="text/javascript">
        var xmlHttp;
        function showUser(str){ 
            xmlHttp=GetXmlHttpObject();
            if (xmlHttp==null)
             {
             alert ("Browser does not support HTTP Request");
             return;
             } 
            var url="getuser.php";
            url=url+"?q="+str;
            url=url+"&sid="+Math.random();
            xmlHttp.onreadystatechange=stateChanged;
            xmlHttp.open("GET",url,true);
            xmlHttp.send(null);
            }
           function stateChanged() 
           { 
           if (xmlHttp.readyState==4 || xmlHttp.readyState=="complete")
           {
            xmlDoc=xmlHttp.responseXML;
            document.getElementById("firstname").innerHTML=
            xmlDoc.getElementsByTagName("firstname")[0].childNodes[0].nodeValue;
            document.getElementById("lastname").innerHTML=
            xmlDoc.getElementsByTagName("lastname")[0].childNodes[0].nodeValue;
            document.getElementById("job").innerHTML=
            xmlDoc.getElementsByTagName("job")[0].childNodes[0].nodeValue;
            document.getElementById("age_text").innerHTML="Age: ";
            document.getElementById("age").innerHTML=
            xmlDoc.getElementsByTagName("age")[0].childNodes[0].nodeValue;
            document.getElementById("hometown_text").innerHTML="<br/>From: ";
            document.getElementById("hometown").innerHTML=
            xmlDoc.getElementsByTagName("hometown")[0].childNodes[0].nodeValue;
            }
           } 
           function GetXmlHttpObject()
            { 
            var objXMLHttp=null;
            if (window.XMLHttpRequest)
             {
             objXMLHttp=new XMLHttpRequest();
             }
            else if (window.ActiveXObject)
             {
             objXMLHttp=new ActiveXObject("Microsoft.XMLHTTP");
             }
            return objXMLHttp;
        }
    </script>
    </head>
    <body>

        <form>
            <select name="users" onchange="showUser(this.value)">
                <option value="">Select a person:</option>
                <option value="1">Peter Griffin</option>
                <option value="2">Lois Griffin</option>
                <option value="3">Glenn Quagmire</option>
                <option value="4">Joseph Swanson</option>
            </select>
        </form>
        <br />
        <h2><span id="firstname"></span>
        &nbsp;<span id="lastname"></span></h2>
        <span id="job"></span>
        <div style="text-align: right">
        <span id="age_text"></span>
        <span id="age"></span>
        <span id="hometown_text"></span>
        <span id="hometown"></span>
        </div>

    </body>
</html> 